:root{--text:#e9eefc;--danger:#ff5a6a;--success:#4ade80;--tile:56px;--gap:8px;--fixedTraySpace:0px}
*{box-sizing:border-box;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif}
body{margin:0;min-height:100vh;display:flex;justify-content:center;color:var(--text);background:radial-gradient(1200px 600px at 30% 10%,#1d2b5a 0%,#0e1320 55%,#070a12 100%)}
.container{width:min(980px,100%);padding:16px 14px calc(18px + var(--fixedTraySpace))}
.header{display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap;margin-bottom:12px}
.title{font-size:18px;margin:0;font-weight:700;letter-spacing:.2px}
.buttons{display:flex;gap:10px;flex-wrap:wrap}
button{appearance:none;background:linear-gradient(180deg,#2a3760,#1b2441);border:1px solid rgba(255,255,255,.12);color:var(--text);padding:10px 12px;border-radius:14px;cursor:pointer;box-shadow:0 10px 25px rgba(0,0,0,.25);transition:transform .08s ease}
button:active{transform:translateY(1px) scale(.99)}
button.secondary{background:linear-gradient(180deg,#25304f,#1a223a)}
button.danger{background:linear-gradient(180deg,#5a1f2a,#3a151e);border-color:rgba(255,90,106,.35)}
.bar{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
.info{background:rgba(20,27,46,.7);border:1px solid rgba(255,255,255,.09);padding:10px 12px;border-radius:16px;display:flex;gap:12px;align-items:center;backdrop-filter:blur(10px)}
.info span{opacity:.9}
.info b{font-weight:800}
.game{display:grid;grid-template-columns:1fr;gap:12px}
.board{position:relative;background:rgba(20,27,46,.6);border:1px solid rgba(255,255,255,.09);border-radius:22px;min-height:520px;overflow:hidden;box-shadow:0 18px 50px rgba(0,0,0,.35);backdrop-filter:blur(10px)}
.boardHint{position:absolute;left:14px;top:12px;opacity:.7;font-size:12px}
.tile{position:absolute;width:var(--tile);height:var(--tile);border-radius:14px;display:grid;place-items:center;user-select:none;cursor:pointer;background:linear-gradient(180deg,#ffffff,#f1f3f7);border:1px solid rgba(255,255,255,.55);color:#1b1f2a;box-shadow:0 14px 26px rgba(0,0,0,.35),inset 0 2px 0 rgba(255,255,255,.88),inset 0 -3px 6px rgba(0,0,0,.12)}
.tile:active{transform:translateY(1px)}
.tile.blocked{opacity:.55;filter:saturate(.75) brightness(.92) grayscale(.2);cursor:not-allowed}
.tile::before{content:"";position:absolute;inset:1px;border-radius:13px;border:1px solid rgba(0,0,0,.08);pointer-events:none}
.tile::after{content:"";position:absolute;inset:0;border-radius:14px;background:radial-gradient(120px 60px at 25% 15%,rgba(255,255,255,.9),transparent 60%);opacity:.9;pointer-events:none}
.tileIcon{font-size:26px;line-height:1;filter:drop-shadow(0 1px 0 rgba(255,255,255,.35))}
.tilePip{position:absolute;left:8px;top:8px;width:10px;height:10px;border-radius:999px;background:hsl(var(--hue,200) 70% 55%);box-shadow:0 1px 0 rgba(255,255,255,.85),0 3px 8px rgba(0,0,0,.18)}
.trayPanel{background:rgba(20,27,46,.75);border:1px solid rgba(255,255,255,.09);border-radius:22px;padding:12px 12px 14px;box-shadow:0 18px 50px rgba(0,0,0,.35);backdrop-filter:blur(10px)}
.trayHeader{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;gap:10px}
.trayHeader small{opacity:.7}
.traySlots{display:grid;grid-template-columns:repeat(7,1fr);gap:10px}
.traySlot{height:62px;border-radius:18px;border:1px dashed rgba(255,255,255,.18);display:grid;place-items:center;font-size:28px;background:rgba(0,0,0,.12)}
.status{margin-top:10px;min-height:22px;opacity:.9}
.status .win{color:var(--success);font-weight:800}
.status .lose{color:var(--danger);font-weight:800}
.hint{opacity:.65;font-size:12px;margin-top:8px}
button,.tile{touch-action:manipulation}
@media (max-width:720px){:root{--tile:50px}.board{min-height:460px}.traySlots{gap:8px}.traySlot{height:58px}.tileIcon{font-size:24px}}
@media (max-width:520px){
.container{padding:12px 10px calc(14px + var(--fixedTraySpace))}
.title{font-size:16px}
.buttons{width:100%}
.buttons button{flex:1 1 calc(50% - 10px)}
.info{gap:10px;flex-wrap:wrap}
.boardHint{font-size:11px;top:10px}
.trayHeader{flex-direction:column;align-items:flex-start}
.traySlots{gap:8px}
.traySlot{height:54px;font-size:26px}
.trayPanel{position:fixed;left:10px;right:10px;bottom:calc(10px + env(safe-area-inset-bottom));margin:0 auto;max-width:min(980px,calc(100% - 20px));border-radius:22px}
.board{margin-bottom:var(--fixedTraySpace)}
}
@media (max-width:380px){
:root{--gap:6px}
.traySlots{gap:6px}
.traySlot{height:50px;font-size:24px}
}
